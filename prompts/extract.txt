Below are summaries from Claude Code conversations in the "{domain}" domain.
Each conversation includes files (file paths operated on) and cmds (commands executed) metadata.

Extract **domain-specific knowledge** that is unique to this domain.
Specifically: decision criteria only experienced practitioners would know, design pitfalls, domain-specific workflows.

Ignore generic workflow steps, configuration content, and agent rules.

Constraints:
- Maximum 5 patterns.
- Extraction criteria: whether the topic was actively discussed between user and AI.
  - User corrected AI output
  - User taught AI a domain-specific judgment criterion
  - Multiple back-and-forth turns on the same topic
  These are important patterns even from a single conversation.
- Do NOT confuse generic development steps with domain knowledge.

Return a JSON array. Each element:
{{
  "skill_slug": "kebab-case-topic-name",
  "title": "Pattern name",
  "description": "What this pattern does and why it matters in this domain",
  "steps": ["Step 1", "Step 2"],
  "code_examples": ["```rust\nlet x = serde_json::from_str::<T>(&s)?;\n```", "```bash\ncargo run -- --flag value\n```"],
  "discussed": true
}}

CRITICAL: steps must capture INSIGHTS and JUDGMENT CRITERIA, not procedures or code.
Prioritize:
- Failure→success stories: "Tried X → failed because Y. Fix: Z" (with the WHY)
- Domain distinctions: "A and B look similar but are NOT the same. A means X, B means Y"
- Design principles learned: "Always X instead of Y because Z"
- Quantified results: "Method A: 10%, method B: 90%. Key factor was ..."
- User corrections: Where the user corrected AI's assumption or output

BAD step: "Generate contact sheet images with labeled thumbnails"
GOOD step: "Individual-file approach gave 10% accuracy. Contact sheet (grid of thumbnails in one image) raised it to 75%. Ensemble (3 passes + majority vote) reached 90%. Key insight: VLMs need spatial context — candidates side-by-side focuses attention better than sequential files."

BAD step: "Use serde attributes for backward compatibility"
GOOD step: "Old manifest files without the new mined_ids field must still parse. Adding #[serde(default)] + skip_serializing_if prevents both parse failures on old data and cluttering new output with empty fields."

code_examples: OPTIONAL supporting reference — command lines, config fragments, or short code patterns
that anchor the insight to a concrete implementation. NOT the primary value. Use [] when no code is relevant.

Group related patterns under the same skill_slug.
The slug should be specific enough to be useful as a standalone skill name.
BAD: "cli-tooling" (too broad), "misc" (meaningless)
GOOD: "claude-plugin-dev", "rust-cli-refactoring", "shell-polyglot-scripts"

Conversation data:
{context}